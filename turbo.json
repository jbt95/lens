{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "type:check": {},
		"format": {},
		"deploy:prod": {
			"dependsOn": [
				"test:unit",
				"^deploy:prod"
			],
			"env": [
				"STAGE=prod"
			]
		},
		"deploy:test": {
			"dependsOn": [
				"test:unit",
				"^deploy:test"
			],
			"env": [
				"STAGE=test"
			]
		},
		"lint": {
			"dependsOn": [
				"type:check",
				"^lint"
			]
		},
		"test:unit": {},
		"test:integration": {
			"dependsOn": [
				"deploy:test",
				"^test:integration"
			]
		}
  }
}
